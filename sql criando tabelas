CREATE TABLE ALUNOS (
    RA NUMBER(8) NOT NULL,
    NM_ALUNO VARCHAR2(100) NOT NULL,
    DT_NASC DATE NOT NULL,
    CONSTRAINT PK_ALUNOS PRIMARY KEY (RA)
);

CReATE TABLE PROFESSORES (
    CD_PROFESSOR NUMBER(4) NOT NULL,
    NM_PROFESSOR VARCHAR2(100) NOT NULL,
    CONSTRAINT PK_PROFESSORES PRIMARY KEY (CD_PROFESSOR)
); //IGOR 116934

CREATE TABLE MATERIAS (
CD_MATERIA NUMBER(6) NOT NULL,
DS_MATERIA VARCHAR2(100) NOT NULL,
CD_PROFESSOR NUMBER(4),
CONSTRAINT PK_MATERIAIS PRIMARY KEY (CD_MATERIA)
);

CREATE TABLE ALUNO_MATERIA(
    RA NUMBER(8) NOT NULL,
    CD_MATERIA NUMBER(6) NOT NULL,
    CONSTRAINT PK_ALUNO_MATERIA PRIMARY KEY (RA, CD_MATERIA)

); 

ALTER TABLE MATERIAS ADD CONSTRAINT FK_CD_PROFESSOR
FOREIGN KEY (CD_PROFESSOR)
REFERENCES PROFESSORES (CD_PROFESSOR);

ALTER TABLE ALUNO_MATERIA ADD CONSTRAINT FK_RA
FOREIGN KEY (RA)
REFERENCES ALUNOS (RA);

ALTER TABLE ALUNO_MATERIA ADD CONSTRAINT FK_CD_MATERIA
FOREIGN KEY (CD_MATERIA)
REFERENCES PK_MATERIAIS (CD_MATERIA);
